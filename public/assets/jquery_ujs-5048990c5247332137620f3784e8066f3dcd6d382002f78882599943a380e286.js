!function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var r,n=e(document);e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=r.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+r.csrfParam()+'"]').val(r.csrfToken())},fire:function(t,r,n){var i=e.Event(r);return t.trigger(i,n),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(n){var i,o,a,s,u,l;if(r.fire(n,"ajax:before")){if(s=n.data("with-credentials")||null,u=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){i=n.attr("method"),o=n.attr("action"),a=n.serializeArray();var c=n.data("ujs:submit-button");c&&(a.push(c),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),o=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(r.buttonClickSelector)?(i=n.data("method")||"get",o=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(i=n.data("method"),o=r.href(n),a=n.data("params")||null);return l={type:i||"GET",data:a,dataType:u,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])?void n.trigger("ajax:send",e):!1},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},crossDomain:r.isCrossDomain(o)},s&&(l.xhrFields={withCredentials:s}),o&&(l.url=o),r.ajax(l)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var r=document.createElement("a");try{return r.href=e,r.href=r.href,!((!r.protocol||":"===r.protocol)&&!r.host||t.protocol+"//"+t.host==r.protocol+"//"+r.host)}catch(n){return!0}},handleMethod:function(n){var i=r.href(n),o=n.data("method"),a=n.attr("target"),s=r.csrfToken(),u=r.csrfParam(),l=e('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';u===t||s===t||r.isCrossDomain(i)||(c+='<input name="'+u+'" value="'+s+'" type="hidden" />'),a&&l.attr("target",a),l.hide().append(c).appendTo("body"),l.submit()},formElements:function(t,r){return t.is("form")?e(t[0].elements).filter(r):t.find(r)},disableFormElements:function(t){r.formElements(t,r.disableSelector).each(function(){r.disableFormElement(e(this))})},disableFormElement:function(e){var r,n;r=e.is("button")?"html":"val",n=e.data("disable-with"),e.data("ujs:enable-with",e[r]()),n!==t&&e[r](n),e.prop("disabled",!0)},enableFormElements:function(t){r.formElements(t,r.enableSelector).each(function(){r.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";"undefined"!=typeof e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,n=e.data("confirm"),i=!1;if(!n)return!0;if(r.fire(e,"confirm")){try{i=r.confirm(n)}catch(o){(console.error||console.log).call(console,o.stack||o)}t=r.fire(e,"confirm:complete",[i])}return i&&t},blankInputs:function(t,r,n){var i,o,a=e(),s=r||"input,textarea",u=t.find(s);return u.each(function(){if(i=e(this),o=i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val(),o===n){if(i.is("input[type=radio]")&&u.filter('input[type=radio]:checked[name="'+i.attr("name")+'"]').length)return!0;a=a.add(i)}}),a.length?a:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");e.data("ujs:enable-with",e.html()),n!==t&&e.html(n),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},r.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableElement(t)})}),n.delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),n.delegate(r.buttonDisableSelector,"ajax:complete",function(){r.enableFormElement(e(this))}),n.delegate(r.linkClickSelector,"click.rails",function(t){var n=e(this),i=n.data("method"),o=n.data("params"),a=t.metaKey||t.ctrlKey;if(!r.allowAction(n))return r.stopEverything(t);if(!a&&n.is(r.linkDisableSelector)&&r.disableElement(n),r.isRemote(n)){if(a&&(!i||"GET"===i)&&!o)return!0;var s=r.handleRemote(n);return s===!1?r.enableElement(n):s.fail(function(){r.enableElement(n)}),!1}return i?(r.handleMethod(n),!1):void 0}),n.delegate(r.buttonClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n)||!r.isRemote(n))return r.stopEverything(t);n.is(r.buttonDisableSelector)&&r.disableFormElement(n);var i=r.handleRemote(n);return i===!1?r.enableFormElement(n):i.fail(function(){r.enableFormElement(n)}),!1}),n.delegate(r.inputChangeSelector,"change.rails",function(t){var n=e(this);return r.allowAction(n)&&r.isRemote(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),n.delegate(r.formSubmitSelector,"submit.rails",function(n){var i,o,a=e(this),s=r.isRemote(a);if(!r.allowAction(a))return r.stopEverything(n);if(a.attr("novalidate")===t&&(i=r.blankInputs(a,r.requiredInputSelector,!1),i&&r.fire(a,"ajax:aborted:required",[i])))return r.stopEverything(n);if(s){if(o=r.nonBlankInputs(a,r.fileInputSelector)){setTimeout(function(){r.disableFormElements(a)},13);var u=r.fire(a,"ajax:aborted:file",[o]);return u||setTimeout(function(){r.enableFormElements(a)},13),u}return r.handleRemote(a),!1}setTimeout(function(){r.disableFormElements(a)},13)}),n.delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),o=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),n.delegate(r.formSubmitSelector,"ajax:send.rails",function(t){this===t.target&&r.disableFormElements(e(this))}),n.delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this===t.target&&r.enableFormElements(e(this))}),e(function(){r.refreshCSRFTokens()}))}(jQuery);