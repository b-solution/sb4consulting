/*
 * Copyright (c) 2009 Simo Kinnunen.
 * Licensed under the MIT license.
 *
 * @version 1.09i
 */
var Cufon=function(){function r(r){var v=this.face=r.face,d={" ":1,"\xa0":1,"\u3000":1};this.glyphs=r.glyphs,this.w=r.w,this.baseSize=parseInt(v["units-per-em"],10),this.family=v["font-family"].toLowerCase(),this.weight=v["font-weight"],this.style=v["font-style"]||"normal",this.viewBox=function(){var r=v.bbox.split(/\s+/),d={minX:parseInt(r[0],10),minY:parseInt(r[1],10),maxX:parseInt(r[2],10),maxY:parseInt(r[3],10)};return d.width=d.maxX-d.minX,d.height=d.maxY-d.minY,d.toString=function(){return[this.minX,this.minY,this.width,this.height].join(" ")},d}(),this.ascent=-parseInt(v.ascent,10),this.descent=-parseInt(v.descent,10),this.height=-this.ascent+this.descent,this.spacing=function(r,v,e){for(var t,m,w,n,x=this.glyphs,o=[],a=0,i=-1,c=-1;n=r[++i];)t=x[n]||this.missingGlyph,t&&(m&&(a-=w=m[n]||0,o[c]-=w),a+=o[++c]=~~(t.w||this.w)+v+(d[n]?e:0),m=t.k);return o.total=a,o}}function v(){var r={},v={oblique:"italic",italic:"oblique"};this.add=function(v){(r[v.style]||(r[v.style]={}))[v.weight]=v},this.get=function(d,e){var t=r[d]||r[v[d]]||r.normal||r.italic||r.oblique;if(!t)return null;if(e={normal:400,bold:700}[e]||parseInt(e,10),t[e])return t[e];var m,w,n={1:1,99:0}[e%100],x=[];void 0===n&&(n=e>400),500==e&&(e=400);for(var o in t)i(t,o)&&(o=parseInt(o,10),(!m||m>o)&&(m=o),(!w||o>w)&&(w=o),x.push(o));return m>e&&(e=m),e>w&&(e=w),x.sort(function(r,v){return(n?r>=e&&v>=e?v>r:r>v:e>=r&&e>=v?r>v:v>r)?-1:1}),t[x[0]]}}function d(){function r(r,v){return r.contains?r.contains(v):16&r.compareDocumentPosition(v)}function v(v){var d=v.relatedTarget;d&&!r(this,d)&&e(this,"mouseover"==v.type)}function d(r){e(this,"mouseenter"==r.type)}function e(r,v){setTimeout(function(){var d=g.get(r).options;u.replace(r,v?c(d,d.hover):d,!0)},10)}this.attach=function(r){void 0===r.onmouseenter?(w(r,"mouseover",v),w(r,"mouseout",v)):(w(r,"mouseenter",d),w(r,"mouseleave",d))}}function e(){function r(r){for(var e,t=[],m=0;e=r[m];++m)t[m]=v[d[e]];return t}var v=[],d={};this.add=function(r,e){d[r]=v.push(e)-1},this.repeat=function(){for(var d,e=arguments.length?r(arguments):v,t=0;d=e[t++];)u.replace(d[0],d[1],!0)}}function t(){function r(r){return r.cufid||(r.cufid=++d)}var v={},d=0;this.get=function(d){var e=r(d);return v[e]||(v[e]={})}}function m(r){var v={},d={};this.extend=function(r){for(var d in r)i(r,d)&&(v[d]=r[d]);return this},this.get=function(d){return void 0!=v[d]?v[d]:r[d]},this.getSize=function(r,v){return d[r]||(d[r]=new h.Size(this.get(r),v))},this.isUsable=function(){return!!r}}function w(r,v,d){r.addEventListener?r.addEventListener(v,d,!1):r.attachEvent&&r.attachEvent("on"+v,function(){return d.call(r,window.event)})}function n(r,v){var d=g.get(r);return d.options?r:(v.hover&&v.hoverables[r.nodeName.toLowerCase()]&&y.attach(r),d.options=v,r)}function x(r){var v={};return function(d){return i(v,d)||(v[d]=r.apply(null,arguments)),v[d]}}function o(r,v){for(var d,e=h.quotedList(v.get("fontFamily").toLowerCase()),t=0;d=e[t];++t)if(Y[d])return Y[d].get(v.get("fontStyle"),v.get("fontWeight"));return null}function a(r){return document.getElementsByTagName(r)}function i(r,v){return r.hasOwnProperty(v)}function c(){for(var r,v,d={},e=0,t=arguments.length;r=arguments[e],t>e;++e)for(v in r)i(r,v)&&(d[v]=r[v]);return d}function l(r,v,d,e,t,m){var w,n=document.createDocumentFragment();if(""===v)return n;var x=e.separate,o=v.split(A[x]),a="words"==x;a&&p&&(/^\s/.test(v)&&o.unshift(""),/\s$/.test(v)&&o.push(""));for(var i=0,c=o.length;c>i;++i)w=S[e.engine](r,a?h.textAlign(o[i],d,i,c):o[i],d,e,t,m,c-1>i),w&&n.appendChild(w);return n}function s(r,v){var d=r.nodeName.toLowerCase();if(!v.ignore[d]){var e,t,m,w,x,a=!v.textless[d],i=h.getStyle(n(r,v)).extend(v),c=o(r,i);if(c)for(e=r.firstChild;e;e=m)t=e.nodeType,m=e.nextSibling,a&&3==t&&(w?(w.appendData(e.data),r.removeChild(e)):w=e,m)||(w&&(r.replaceChild(l(c,h.whiteSpace(w.data,i,w,x),i,v,e,r),w),w=null),1==t&&(e.firstChild&&("cufon"==e.nodeName.toLowerCase()?S[v.engine](c,null,i,v,e,r):arguments.callee(e,v)),x=e))}}var u=function(){return u.replace.apply(null,arguments)},f=u.DOM={ready:function(){var r=!1,v={loaded:1,complete:1},d=[],e=function(){if(!r){r=!0;for(var v;v=d.shift();v());}};return document.addEventListener&&(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("pageshow",e,!1)),!window.opera&&document.readyState&&!function(){v[document.readyState]?e():setTimeout(arguments.callee,10)}(),document.readyState&&document.createStyleSheet&&!function(){try{document.body.doScroll("left"),e()}catch(r){setTimeout(arguments.callee,1)}}(),w(window,"load",e),function(v){arguments.length?r?v():d.push(v):e()}}(),root:function(){return document.documentElement||document.body}},h=u.CSS={Size:function(r,v){this.value=parseFloat(r),this.unit=String(r).match(/[a-z%]*$/)[0]||"px",this.convert=function(r){return r/v*this.value},this.convertFrom=function(r){return r/this.value*v},this.toString=function(){return this.value+this.unit}},addClass:function(r,v){var d=r.className;return r.className=d+(d&&" ")+v,r},color:x(function(r){var v={};return v.color=r.replace(/^rgba\((.*?),\s*([\d.]+)\)/,function(r,d,e){return v.opacity=parseFloat(e),"rgb("+d+")"}),v}),fontStretch:x(function(r){return"number"==typeof r?r:/%$/.test(r)?parseFloat(r)/100:{"ultra-condensed":.5,"extra-condensed":.625,condensed:.75,"semi-condensed":.875,"semi-expanded":1.125,expanded:1.25,"extra-expanded":1.5,"ultra-expanded":2}[r]||1}),getStyle:function(r){var v=document.defaultView;return new m(v&&v.getComputedStyle?v.getComputedStyle(r,null):r.currentStyle?r.currentStyle:r.style)},gradient:x(function(r){for(var v,d={id:r,type:r.match(/^-([a-z]+)-gradient\(/)[1],stops:[]},e=r.substr(r.indexOf("(")).match(/([\d.]+=)?(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)/gi),t=0,m=e.length;m>t;++t)v=e[t].split("=",2).reverse(),d.stops.push([v[1]||t/(m-1),v[0]]);return d}),quotedList:x(function(r){for(var v,d=[],e=/\s*((["'])([\s\S]*?[^\\])\2|[^,]+)\s*/g;v=e.exec(r);)d.push(v[3]||v[1]);return d}),recognizesMedia:x(function(r){var v,d,e,t=document.createElement("style");t.type="text/css",t.media=r;try{t.appendChild(document.createTextNode("/**/"))}catch(m){}return d=a("head")[0],d.insertBefore(t,d.firstChild),v=t.sheet||t.styleSheet,e=v&&!v.disabled,d.removeChild(t),e}),removeClass:function(r,v){var d=RegExp("(?:^|\\s+)"+v+"(?=\\s|$)","g");return r.className=r.className.replace(d,""),r},supports:function(r,v){var d=document.createElement("span").style;return void 0===d[r]?!1:(d[r]=v,d[r]===v)},textAlign:function(r,v,d,e){return"right"==v.get("textAlign")?d>0&&(r=" "+r):e-1>d&&(r+=" "),r},textShadow:x(function(r){if("none"==r)return null;for(var v,d=[],e={},t=0,m=/(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)|(-?[\d.]+[a-z%]*)|,/gi;v=m.exec(r);)","==v[0]?(d.push(e),e={},t=0):v[1]?e.color=v[1]:e[["offX","offY","blur"][t++]]=v[2];return d.push(e),d}),textTransform:function(){var r={uppercase:function(r){return r.toUpperCase()},lowercase:function(r){return r.toLowerCase()},capitalize:function(r){return r.replace(/\b./g,function(r){return r.toUpperCase()})}};return function(v,d){var e=r[d.get("textTransform")];return e?e(v):v}}(),whiteSpace:function(){var r={inline:1,"inline-block":1,"run-in":1},v=/^\s+/,d=/\s+$/;return function(e,t,m,w){return w&&"br"==w.nodeName.toLowerCase()&&(e=e.replace(v,"")),r[t.get("display")]?e:(m.previousSibling||(e=e.replace(v,"")),m.nextSibling||(e=e.replace(d,"")),e)}}()};h.ready=function(){function r(r){return r.disabled||v(r.sheet,r.media||"screen")}function v(r,d){if(!h.recognizesMedia(d||"all"))return!0;if(!r||r.disabled)return!1;try{var e,t=r.cssRules;if(t)r:for(var m=0,w=t.length;e=t[m],w>m;++m)switch(e.type){case 2:break;case 3:if(!v(e.styleSheet,e.media.mediaText))return!1;break;default:break r}}catch(n){}return!0}function d(){if(document.createStyleSheet)return!0;var v,d;for(d=0;v=n[d];++d)if("stylesheet"==v.rel.toLowerCase()&&!r(v))return!1;for(d=0;v=x[d];++d)if(!r(v))return!1;return!0}var e=!h.recognizesMedia("all"),t=!1,m=[],w=function(){e=!0;for(var r;r=m.shift();r());},n=a("link"),x=a("style");return f.ready(function(){t||(t=h.getStyle(document.body).isUsable()),e||t&&d()?w():setTimeout(arguments.callee,10)}),function(r){e?r():m.push(r)}}();var p=0==" ".split(/\s+/).length,g=new t,y=new d,k=new e,C=!1,S={},Y={},b={autoDetect:!1,engine:null,forceHitArea:!1,hover:!1,hoverables:{a:!0},ignore:{applet:1,canvas:1,col:1,colgroup:1,head:1,iframe:1,map:1,optgroup:1,option:1,script:1,select:1,style:1,textarea:1,title:1,pre:1},printable:!0,selector:window.Sizzle||window.jQuery&&function(r){return jQuery(r)}||window.dojo&&dojo.query||window.Ext&&Ext.query||window.YAHOO&&YAHOO.util&&YAHOO.util.Selector&&YAHOO.util.Selector.query||window.$$&&function(r){return $$(r)}||window.$&&function(r){return $(r)}||document.querySelectorAll&&function(r){return document.querySelectorAll(r)}||a,separate:"words",textless:{dl:1,html:1,ol:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,ul:1},textShadow:"none"},A={words:/\s/.test("\xa0")?/[^\S\u00a0]+/:/\s+/,characters:"",none:/^/};return u.now=function(){return f.ready(),u},u.refresh=function(){return k.repeat.apply(k,arguments),u},u.registerEngine=function(r,v){return v?(S[r]=v,u.set("engine",r)):u},u.registerFont=function(d){if(!d)return u;var e=new r(d),t=e.family;return Y[t]||(Y[t]=new v),Y[t].add(e),u.set("fontFamily",'"'+t+'"')},u.replace=function(r,v,d){return v=c(b,v),v.engine?(C||(h.addClass(f.root(),"cufon-active cufon-loading"),h.ready(function(){h.addClass(h.removeClass(f.root(),"cufon-loading"),"cufon-ready")}),C=!0),v.hover&&(v.forceHitArea=!0),v.autoDetect&&delete v.fontFamily,"string"==typeof v.textShadow&&(v.textShadow=h.textShadow(v.textShadow)),"string"==typeof v.color&&/^-/.test(v.color)?v.textGradient=h.gradient(v.color):delete v.textGradient,d||k.add(r,arguments),(r.nodeType||"string"==typeof r)&&(r=[r]),h.ready(function(){for(var d=0,e=r.length;e>d;++d){var t=r[d];"string"==typeof t?u.replace(v.selector(t),v,!0):s(t,v)}}),u):u},u.set=function(r,v){return b[r]=v,u},u}();Cufon.registerEngine("vml",function(){function r(r,d){return v(r,/(?:em|ex|%)$|^[a-z-]+$/i.test(d)?"1em":d)}function v(r,v){if("0"===v)return 0;if(/px$/i.test(v))return parseFloat(v);var d=r.style.left,e=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=v.replace("%","em");var t=r.style.pixelLeft;return r.style.left=d,r.runtimeStyle.left=e,t}function d(r,d,e,t){var m="computed"+t,w=d[m];return isNaN(w)&&(w=d.get(t),d[m]=w="normal"==w?0:~~e.convertFrom(v(r,w))),w}function e(r){var v=r.id;if(!n[v]){var d=r.stops,e=document.createElement("cvml:fill"),t=[];e.type="gradient",e.angle=180,e.focus="0",e.method="sigma",e.color=d[0][1];for(var m=1,w=d.length-1;w>m;++m)t.push(100*d[m][0]+"% "+d[m][1]);e.colors=t.join(","),e.color2=d[w][1],n[v]=e}return n[v]}var t=document.namespaces;if(t){t.add("cvml","urn:schemas-microsoft-com:vml"),t=null;var m=document.createElement("cvml:shape");if(m.style.behavior="url(#default#VML)",m.coordsize){m=null;var w=(document.documentMode||0)<8;document.write(('<style type="text/css">cufoncanvas{text-indent:0;}@media screen{cvml\\:shape,cvml\\:rect,cvml\\:fill,cvml\\:shadow{behavior:url(#default#VML);display:block;antialias:true;position:absolute;}cufoncanvas{position:absolute;text-align:left;}cufon{display:inline-block;position:relative;vertical-align:'+(w?"middle":"text-bottom")+";}cufon cufontext{position:absolute;left:-10000in;font-size:1px;}a cufon{cursor:pointer}}@media print{cufon cufoncanvas{display:none;}}</style>").replace(/;/g,"!important;"));var n={};return function(t,m,n,x,o,a,i){var c=null===m;c&&(m=o.alt);var l,s,u=t.viewBox,f=n.computedFontSize||(n.computedFontSize=new Cufon.CSS.Size(r(a,n.get("fontSize"))+"px",t.baseSize));if(c)l=o,s=o.firstChild;else{if(l=document.createElement("cufon"),l.className="cufon cufon-vml",l.alt=m,s=document.createElement("cufoncanvas"),l.appendChild(s),x.printable){var h=document.createElement("cufontext");h.appendChild(document.createTextNode(m)),l.appendChild(h)}i||l.appendChild(document.createElement("cvml:shape"))}var p=l.style,g=s.style,y=f.convert(u.height),k=Math.ceil(y),C=k/y,S=C*Cufon.CSS.fontStretch(n.get("fontStretch")),Y=u.minX,b=u.minY;g.height=k,g.top=Math.round(f.convert(b-t.ascent)),g.left=Math.round(f.convert(Y)),p.height=f.convert(t.height)+"px";var A=n.get("color"),T=Cufon.CSS.textTransform(m,n).split(""),W=t.spacing(T,d(a,n,f,"letterSpacing"),d(a,n,f,"wordSpacing"));if(!W.length)return null;for(var V,z,E=W.total,O=-Y+E+(u.width-W[W.length-1]),F=f.convert(O*S),X=Math.round(F),L=O+","+u.height,N="r"+L+"ns",J=x.textGradient&&e(x.textGradient),U=t.glyphs,M=0,G=x.textShadow,$=-1,q=0;z=T[++$];){var B,D=U[T[$]]||t.missingGlyph;if(D){if(c)for(B=s.childNodes[q];B.firstChild;)B.removeChild(B.firstChild);else B=document.createElement("cvml:shape"),s.appendChild(B);B.stroked="f",B.coordsize=L,B.coordorigin=V=Y-M+","+b,B.path=(D.d?"m"+D.d+"xe":"")+"m"+V+N,B.fillcolor=A,J&&B.appendChild(J.cloneNode(!1));var H=B.style;if(H.width=X,H.height=k,G){var I,Z=G[0],j=G[1],P=Cufon.CSS.color(Z.color),R=document.createElement("cvml:shadow");R.on="t",R.color=P.color,R.offset=Z.offX+","+Z.offY,j&&(I=Cufon.CSS.color(j.color),R.type="double",R.color2=I.color,R.offset2=j.offX+","+j.offY),R.opacity=P.opacity||I&&I.opacity||1,B.appendChild(R)}M+=W[q++]}}var K,Q,_=B.nextSibling;if(x.forceHitArea?(_||(_=document.createElement("cvml:rect"),_.stroked="f",_.className="cufon-vml-cover",K=document.createElement("cvml:fill"),K.opacity=0,_.appendChild(K),s.appendChild(_)),Q=_.style,Q.width=X,Q.height=k):_&&s.removeChild(_),p.width=Math.max(Math.ceil(f.convert(E*S)),0),w){var rr=n.computedYAdjust;if(void 0===rr){var vr=n.get("lineHeight");"normal"==vr?vr="1em":isNaN(vr)||(vr+="em"),n.computedYAdjust=rr=.5*(v(a,vr)-parseFloat(p.height))}rr&&(p.marginTop=Math.ceil(rr)+"px",p.marginBottom=rr+"px")}return l}}}}()),Cufon.registerEngine("canvas",function(){function r(r,v){var d,e=0,t=0,m=[],w=/([mrvxe])([^a-z]*)/g;r:for(var n=0;d=w.exec(r);++n){var x=d[2].split(",");switch(d[1]){case"v":m[n]={m:"bezierCurveTo",a:[e+~~x[0],t+~~x[1],e+~~x[2],t+~~x[3],e+=~~x[4],t+=~~x[5]]};break;case"r":m[n]={m:"lineTo",a:[e+=~~x[0],t+=~~x[1]]};break;case"m":m[n]={m:"moveTo",a:[e=~~x[0],t=~~x[1]]};break;case"x":m[n]={m:"closePath"};break;case"e":break r}v[m[n].m].apply(v,m[n].a)}return m}function v(r,v){for(var d=0,e=r.length;e>d;++d){var t=r[d];v[t.m].apply(v,t.a)}}var d=document.createElement("canvas");if(d&&d.getContext&&d.getContext.apply){d=null;var e=Cufon.CSS.supports("display","inline-block"),t=!e&&("BackCompat"==document.compatMode||/frameset|transitional/i.test(document.doctype.publicId)),m=document.createElement("style");return m.type="text/css",m.appendChild(document.createTextNode(("cufon{text-indent:0;}@media screen,projection{cufon{display:inline;display:inline-block;position:relative;vertical-align:middle;"+(t?"":"font-size:1px;line-height:1px;")+"}cufon cufontext{display:-moz-inline-box;display:inline-block;width:0;height:0;overflow:hidden;text-indent:-10000in;}"+(e?"cufon canvas{position:relative;}":"cufon canvas{position:absolute;}")+"}@media print{cufon{padding:0;}cufon canvas{display:none;}}").replace(/;/g,"!important;"))),document.getElementsByTagName("head")[0].appendChild(m),function(d,t,m,w,n,x){function o(){var e,t,m=d.glyphs,w=-1,n=-1;for(M.scale(X,1);t=S[++w];){var e=m[S[w]]||d.missingGlyph;e&&(e.d&&(M.beginPath(),e.code?v(e.code,M):e.code=r("m"+e.d,M),M.fill()),M.translate(Y[++n],0))}M.restore()}var a=null===t;a&&(t=n.getAttribute("alt"));var i=d.viewBox,c=m.getSize("fontSize",d.baseSize),l=0,s=0,u=0,f=0,h=w.textShadow,p=[];if(h)for(var g=h.length;g--;){var y=h[g],k=c.convertFrom(parseFloat(y.offX)),C=c.convertFrom(parseFloat(y.offY));p[g]=[k,C],l>C&&(l=C),k>s&&(s=k),C>u&&(u=C),f>k&&(f=k)}var S=Cufon.CSS.textTransform(t,m).split(""),Y=d.spacing(S,~~c.convertFrom(parseFloat(m.get("letterSpacing"))||0),~~c.convertFrom(parseFloat(m.get("wordSpacing"))||0));if(!Y.length)return null;var b=Y.total;s+=i.width-Y[Y.length-1],f+=i.minX;var A,T;if(a)A=n,T=n.firstChild;else if(A=document.createElement("cufon"),A.className="cufon cufon-canvas",A.setAttribute("alt",t),T=document.createElement("canvas"),A.appendChild(T),w.printable){var W=document.createElement("cufontext");W.appendChild(document.createTextNode(t)),A.appendChild(W)}var V=A.style,z=T.style,E=c.convert(i.height),O=Math.ceil(E),F=O/E,X=F*Cufon.CSS.fontStretch(m.get("fontStretch")),L=b*X,N=Math.ceil(c.convert(L+s-f)),J=Math.ceil(c.convert(i.height-l+u));T.width=N,T.height=J,z.width=N+"px",z.height=J+"px",l+=i.minY,z.top=Math.round(c.convert(l-d.ascent))+"px",z.left=Math.round(c.convert(f))+"px";var U=Math.max(Math.ceil(c.convert(L)),0)+"px";e?(V.width=U,V.height=c.convert(d.height)+"px"):(V.paddingLeft=U,V.paddingBottom=c.convert(d.height)-1+"px");var M=T.getContext("2d"),G=E/i.height;if(M.scale(G,G*F),M.translate(-f,-l),M.save(),h)for(var g=h.length;g--;){var y=h[g];M.save(),M.fillStyle=y.color,M.translate.apply(M,p[g]),o()}var $=w.textGradient;if($){for(var q=$.stops,B=M.createLinearGradient(0,i.minY,0,i.maxY),g=0,D=q.length;D>g;++g)B.addColorStop.apply(B,q[g]);M.fillStyle=B}else M.fillStyle=m.get("color");return o(),A}}}());